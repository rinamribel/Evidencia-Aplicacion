// inventario.c

#include <stdio.h>
#include <string.h>
#include "inventario.h"

void ingresarDatos(char nombres[][30], float precios[], int* cantidad) {
    int i;
    printf("¿Cuántos productos desea ingresar? (máximo 10): ");
    scanf("%d", cantidad);

    while (*cantidad < 1 || *cantidad > 10) {
        printf("Cantidad inválida. Ingrese un valor entre 1 y 10: ");
        scanf("%d", cantidad);
    }

    for (i = 0; i < *cantidad; i++) {
        printf("Producto %d:\n", i + 1);
        printf("Nombre: ");
        scanf(" %[^\n]", nombres[i]);
        printf("Precio: ");
        scanf("%f", &precios[i]);
    }
}

void mostrarInventario(char nombres[][30], float precios[], int cantidad) {
    printf("\nInventario de productos:\n");
    for (int i = 0; i < cantidad; i++) {
        printf("%d. %s - $%.2f\n", i + 1, nombres[i], precios[i]);
    }
}

float calcularTotal(float precios[], int cantidad) {
    float total = 0;
    for (int i = 0; i < cantidad; i++) {
        total += precios[i];
    }
    return total;
}

float calcularPromedio(float precios[], int cantidad) {
    if (cantidad == 0) return 0;
    return calcularTotal(precios, cantidad) / cantidad;
}

int encontrarMasCaro(float precios[], int cantidad) {
    int indice = 0;
    for (int i = 1; i < cantidad; i++) {
        if (precios[i] > precios[indice]) {
            indice = i;
        }
    }
    return indice;
}

int encontrarMasBarato(float precios[], int cantidad) {
    int indice = 0;
    for (int i = 1; i < cantidad; i++) {
        if (precios[i] < precios[indice]) {
            indice = i;
        }
    }
    return indice;
}

int buscarProducto(char nombres[][30], float precios[], int cantidad, char nombreBuscado[]) {
    for (int i = 0; i < cantidad; i++) {
        if (strcmp(nombres[i], nombreBuscado) == 0) {
            printf("Producto encontrado: %s - $%.2f\n", nombres[i], precios[i]);
            return 1;
        }
    }
    printf("Producto no encontrado.\n");
    return 0;
}
